# MCP scope
| 스코프 | 범위 | 설정 파일 위치 | 주요 용도 |
| --- | --- | --- | --- |
| Local | 현재 프로젝트만 | 프로젝트 루트의 로컬 설정 | 개인 실험, 민감한 자격 증명 |
| Project | 프로젝트 내 팀 전체 | .mcp.json (버전 관리) | 팀 협업, 프로젝트별 도구 |
| User | 사용자의 모든 프로젝트 | ~/.config/claude/mcp.json | 개인 유틸리티, 범용 도구 |

## 우선순위
```
Local > Project > User
```
- 개인 설정으로 팀 단위 설정을 덮어쓸 수 있음.

## Local scope
- 현재 디렉토리에서만 접근 가능
- 현재 사용자에게만 비공개
- 실험적 구성이나 민감한 자격 증명에 적합

```bash
claude mcp add --transport http stripe https://mcp.stripe.com
```

- 새로운 MCP 서버를 팀에 도입하기 전 개인적으로 테스트할 때
- 개인 API 키나 비밀번호가 필요한 서비스일 때

## Porject scope - 권장
- .mcp.json 파일에 저장되어 버전 관리 가능
- 팀 전체가 동일 MCP 도구 사용

```bash
claude mcp add playwright npx @playwright/mcp@latest -s project
```

```bash
claude mcp add --transport sse linear https://mcp.linear.app/sse -s project
```
- 프로젝트 이슈 미 작업 관리
- 팀 워크플로우 자동화 등

```json
{
  "mcpServers": {
    "playwright": {
      "command": "npx",
      "args": ["@playwright/mcp@latest"]
    },
    "linear": {
      "transport": {
        "type": "sse",
        "url": "https://mcp.linear.app/sse"
      }
    }
  }
}
```
- .mcp.json 예시
- git으로 MCP 설정 추적이 가능함 (버전 관리)
- 온보딩 최소화 (새 팀원이 자동으로 필요한 MCP 설치)
- 프로젝트별 도구가 명확하게 정의됨 (일관성)

## User scope
- 모든 프로젝트에서 공통적으로 사용하고 ***토큰 소비가 적은*** 범용 도구만 User 스코프로 설치

```bash
claude mcp add codex --scope user codex mcp
```
- GPT-5 를 같이 쓸 수 있음
- 추가적인 API 사용 없이 구독 비용으로 사용 가능

```bash
claude mcp add --transport http context7 https://mcp.context7.com/mcp -s user
```
- 최신 라이브러리 문서 자동 검색

## MCP 검색
- https://smithery.ai/
  - MCP 서버 공식 마켓 플레이스

# CALUDE.md, AGENTS.md setting
- 실무 활용 사례
  - 팀 전체가 공유하는 코딩 컨벤션과 개발 가이드라인 자동 적용
  - 프로젝트별 커스텀 명령어, 워크플로우 자동 실행
  - Git commit 메시지 포맷 및 PR 가이드라인 자동 준수
  - 패키지 매니저와 개발 환경 설정 자동 인식

| 구분 | CLAUDE.md | AGENTS.md |
| --- | --- | --- |
| 제작 | Anthropic (Claude 전용) | OpenAI, Google, Cursor 등 (범용) |
| 호환성 | Claude Code 전용 | 다양한 AI 코딩 도구 |
| 위치 | .claude/CLAUDE.md 또는 CLAUDE.md | AGENTS.md (루트) |
| 특수 기능 | Import 명령, memory 명령어 | Monorepo 중첩 지원 |
| 추천 사용 | Claude Code 메인 설정 | 범용 AI 에이전트 공통 문서 |

## CLAUDE.md - Customizing
```bash
/memory
```
- 현재 프로젝트에 .claude/CLAUDE.md 또는 ./CLAUDE.md 파일이 있는지 확인
- 없으면 생성 여부 물어봄
- 파일을 열어 내용을 확인/수정

```bash
/init
```
- 자동 생성

## CLAUDE.md 파일 업데이트
```
CLAUDE.md 파일에 프로젝트의 파일 구조를 추가해줘.
```

```
fastapi-project/
├── app/
│   ├── __init__.py
│   ├── main.py              # Application entry point
│   ├── api/
│   │   ├── __init__.py
│   │   ├── deps.py          # Dependencies
│   │   └── v1/
│   │       ├── __init__.py
│   │       └── endpoints/
│   │           ├── users.py
│   │           ├── items.py
│   │           └── auth.py
│   ├── core/
│   │   ├── __init__.py
│   │   ├── config.py        # Configuration
│   │   └── security.py      # Security utilities
│   ├── models/              # SQLAlchemy models
│   ├── schemas/             # Pydantic schemas
│   ├── services/            # Business logic
│   └── repositories/        # Data access
├── tests/
│   ├── conftest.py
│   ├── test_api/
│   └── test_services/
├── alembic/                 # Database migrations
├── pyproject.toml           # Project dependencies
└── README.md
```

## AGENTS.md 활용
- AGENTS.md는 OpenAI, Google, Cursor 등 다양한 AI 코딩 도구가 공통으로 이해하는 범용 표준

```
claude -p "AGENTS.md 파일을 생성: CLAUDE.md 파일에 심볼링 링크를 걸어줘"
```
- Symbolic link 장점
  - 파일 내용을 실시간 동기화
  - 중복 관리 불필요
  - Git 추적 (버저닝)

## \# 기호로 메모리 추가
- Claude Code 세션에서 메시지 앞에 #을 붙임
- 세션 중에 즉석으로 기억시키고 싶은 내용을 빠르게 기록할 떄 사용

```
# 이 프로젝트는 반드시 uv를 사용해야 함 (pip는 사용 금지)
```
- \# 메모리는 세션 종료 시 자동으로 CLAUDE.md 에 저장

## 메모리 확인 및 정리
```bash
/memory or code .claude/CLAUDE.md
```
- 중복 내용 제거
- 더 이상 유효하지 않은 내용 삭제
