from crewai import Crew, Agent, Task
from crewai.project import CrewBase, task, agent, crew
from env import OPENAI_API_KEY
from tools import web_search_tool, global_news_rss_tool, korean_news_rss_tool

import os

os.environ["OPENAI_API_KEY"] = OPENAI_API_KEY

FETCH_NEWS_COUNT = 10

@CrewBase
class NewsCrew:

    @agent
    def research_specialist_agent(self) -> Agent:
        return Agent(
            role="ë¦¬ì„œì¹˜ ì „ë¬¸ê°€ (Research Specialist)",
            goal="ìµœì‹  ë‰´ìŠ¤ ì•„í‹°í´ RSSë¥¼ ìµœëŒ€í•œ ë§ì´ ìˆ˜ì§‘í•œë‹¤",
            backstory="""
            ë‹¹ì‹ ì€ ì„¸ê³„ì ì¸ ë‰´ìŠ¤ í†µì‹ ì‚¬ì—ì„œ 20ë…„ê°„ ê·¼ë¬´í•œ ë² í…Œë‘ ë¦¬ì„œì¹˜ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
            ë‹¤ì–‘í•œ ì†ŒìŠ¤(Google News RSS, êµ­ë‚´ì™¸ ì£¼ìš” ì–¸ë¡ ì‚¬)ë¥¼ ìƒ…ìƒ…ì´ ë’¤ì ¸ì„œ
            ê´€ë ¨ì„±ì´ ë†’ê³  ìµœì‹ ì˜ í•«í•œ ë‰´ìŠ¤ ê¸°ì‚¬ë¥¼ ì°¾ì•„ë‚´ëŠ” ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
            RSS í”¼ë“œë¥¼ í†µí•´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ëŠ” ë‰´ìŠ¤ë¥¼ ìˆ˜ì§‘í•˜ê³ ,
            ì¤‘ë³µì„ ì œê±°í•˜ì—¬ ê°€ì¥ ê°€ì¹˜ ìˆëŠ” ì •ë³´ë§Œì„ ì„ ë³„í•©ë‹ˆë‹¤.
            """,
            llm="openai/o4-mini",
            verbose=True,
            tools=[korean_news_rss_tool, global_news_rss_tool],
        )

    @task
    def research_global_news_task(self) -> Task:
        return Task(
            agent=self.research_specialist_agent(),
            description=f"""
            ê¸€ë¡œë²Œ ë‰´ìŠ¤ RSS ì†ŒìŠ¤ì—ì„œ ìµœì‹  ë‰´ìŠ¤ ê¸°ì‚¬ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.

            **í•„ìˆ˜ ì‘ì—… ìˆœì„œ (ë°˜ë“œì‹œ ë”°ë¼ì•¼ í•¨):**

            1. **ì²« ë²ˆì§¸ë¡œ global_news_rss_tool()ì„ í˜¸ì¶œ**í•˜ì—¬ ì‹¤ì œ RSS ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤.
            2. **ë„êµ¬ í˜¸ì¶œ ê²°ê³¼ë¥¼ ê¸°ë‹¤ë¦¬ê³  ë°›ì€ ì‹¤ì œ ë°ì´í„°ë§Œ ì‚¬ìš©**í•´ì•¼ í•©ë‹ˆë‹¤.
            3. **ì ˆëŒ€ë¡œ ì„ì˜ì˜ ë‰´ìŠ¤ë‚˜ ì˜ˆì‹œ ë°ì´í„°ë¥¼ ìƒì„±í•˜ì§€ ë§ˆì„¸ìš”.**
            4. RSS ë„êµ¬ì—ì„œ ë°›ì€ ë°ì´í„°ë¥¼ ì¤‘ìš”ë„ì™€ ê´€ë ¨ì„±ì— ë”°ë¼ ì •ë ¬í•˜ì„¸ìš” (ìµœì‹ ìˆœ ìš°ì„ ).
            5. ì¤‘ë³µëœ ê¸°ì‚¬ë¥¼ ì œê±°í•˜ì„¸ìš”.
            6. ìƒìœ„ {FETCH_NEWS_COUNT}ê°œì˜ ê°€ì¥ í•«í•œ ì´ìŠˆ ê¸°ì‚¬ë¥¼ ì„ ë³„í•˜ì„¸ìš”.

            **ê²½ê³ : ì´ ì‘ì—…ì€ ì‹¤ì œ ë‰´ìŠ¤ ìˆ˜ì§‘ì´ë¯€ë¡œ ë°˜ë“œì‹œ global_news_rss_toolì„ í˜¸ì¶œí•´ì•¼ í•˜ë©°,
            ê·¸ ì´ì „ ë‚ ì§œì˜ ê°€ì§œ ë‰´ìŠ¤ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” ê²ƒì€ ì ˆëŒ€ ê¸ˆì§€ë©ë‹ˆë‹¤.
            RSS ë„êµ¬ëŠ” í˜„ì¬ì˜ ì‹¤ì œ ë‰´ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.**
            """,
            # ë‹¤ìŒ Agentë¡œ ë„˜ê²¨ì£¼ê¸°ìœ„í•´ Structured formatìœ¼ë¡œ ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤.
            expected_output="""
            ë‹¤ìŒ í˜•ì‹ì˜ JSON ë¦¬ìŠ¤íŠ¸:
            [
                {
                    "title": "ê¸°ì‚¬ ì œëª©",
                    "link": "ê¸°ì‚¬ URL",
                    "summary": "ê¸°ì‚¬ ìš”ì•½",
                    "published": "ë°œí–‰ ë‚ ì§œ",
                    "source": "ë‰´ìŠ¤ ì†ŒìŠ¤",
                    "importance_score": "1-10 ì¤‘ìš”ë„ ì ìˆ˜"
                }
            ]
            ìµœëŒ€ {FETCH_NEWS_COUNT}ê°œì˜ ê¸€ë¡œë²Œ ë‰´ìŠ¤ ê¸°ì‚¬ ëª©ë¡
            """,
            output_file="output/global_news.json",
        )

    @task
    def research_korea_news_task(self) -> Task:
        return Task(
            agent=self.research_specialist_agent(),
            description="""
            í•œêµ­ ì£¼ìš” ì–¸ë¡ ì‚¬ì˜ RSS í”¼ë“œì—ì„œ ìµœì‹  ë‰´ìŠ¤ ê¸°ì‚¬ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.

            **í•„ìˆ˜ ì‘ì—… ìˆœì„œ (ë°˜ë“œì‹œ ë”°ë¼ì•¼ í•¨):**

            1. **ì²« ë²ˆì§¸ë¡œ korean_news_rss_tool()ì„ í˜¸ì¶œ**í•˜ì—¬ ì‹¤ì œ RSS ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤.
            2. **ë„êµ¬ í˜¸ì¶œ ê²°ê³¼ë¥¼ ê¸°ë‹¤ë¦¬ê³  ë°›ì€ ì‹¤ì œ ë°ì´í„°ë§Œ ì‚¬ìš©**í•´ì•¼ í•©ë‹ˆë‹¤.
            3. **ì ˆëŒ€ë¡œ ì„ì˜ì˜ ë‰´ìŠ¤ë‚˜ ì˜ˆì‹œ ë°ì´í„°ë¥¼ ìƒì„±í•˜ì§€ ë§ˆì„¸ìš”.**
            4. RSS ë„êµ¬ì—ì„œ ë°›ì€ ë°ì´í„°ë¥¼ ì¤‘ìš”ë„ì™€ ì‹œì˜ì„±ì— ë”°ë¼ ë¶„ì„í•˜ì„¸ìš”.
            5. ì¤‘ë³µ ê¸°ì‚¬ ë° ìœ ì‚¬ ê¸°ì‚¬ë¥¼ ì œê±°í•˜ì„¸ìš”.
            6. ìƒìœ„ {FETCH_NEWS_COUNT}ê°œì˜ ê°€ì¥ í•«í•œ í•œêµ­ ë‰´ìŠ¤ë¥¼ ì„ ë³„í•˜ì„¸ìš”.

            **ê²½ê³ : ì´ ì‘ì—…ì€ ì‹¤ì œ ë‰´ìŠ¤ ìˆ˜ì§‘ì´ë¯€ë¡œ ë°˜ë“œì‹œ korean_news_rss_toolì„ í˜¸ì¶œí•´ì•¼ í•˜ë©°,
            ê·¸ ì´ì „ ë‚ ì§œì˜ ê°€ì§œ ë‰´ìŠ¤ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” ê²ƒì€ ì ˆëŒ€ ê¸ˆì§€ë©ë‹ˆë‹¤.
            RSS ë„êµ¬ëŠ” í˜„ì¬ì˜ ì‹¤ì œ ë‰´ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.**
            """,
            expected_output="""
            ë‹¤ìŒ í˜•ì‹ì˜ JSON ë¦¬ìŠ¤íŠ¸:
            [
                {
                    "title": "ê¸°ì‚¬ ì œëª©",
                    "link": "ê¸°ì‚¬ URL",
                    "summary": "ê¸°ì‚¬ ìš”ì•½",
                    "published": "ë°œí–‰ ë‚ ì§œ",
                    "source": "ì–¸ë¡ ì‚¬ëª…",
                    "importance_score": "1-10 ì¤‘ìš”ë„ ì ìˆ˜",
                    "category": "ì •ì¹˜/ê²½ì œ/ì‚¬íšŒ/êµ­ì œ ë“± ì¹´í…Œê³ ë¦¬"
                }
            ]
            ìµœëŒ€ {FETCH_NEWS_COUNT}ê°œì˜ í•œêµ­ ë‰´ìŠ¤ ê¸°ì‚¬ ëª©ë¡
            """,
            output_file="output/korean_news.json",
        )

    @agent
    def editor_agent(self) -> Agent:
        return Agent(
            role="ì‹œë‹ˆì–´ ì—ë””í„° (Senior Editor)",
            goal="ìˆ˜ì§‘ëœ ë‰´ìŠ¤ ê¸°ì‚¬ì˜ ì‹¤ì œ ë³¸ë¬¸ì„ ì¶”ì¶œí•˜ê³ , í•µì‹¬ ë‚´ìš©ì„ ìš”ì•½í•˜ì—¬ ì¼ê´€ëœ í˜•ì‹ìœ¼ë¡œ ê°€ê³µí•œë‹¤.",
            backstory="""
            ë‹¹ì‹ ì€ êµ­ë‚´ì™¸ ì£¼ìš” ì–¸ë¡ ì‚¬ì—ì„œ 15ë…„ê°„ ê·¼ë¬´í•œ ë² í…Œë‘ ì—ë””í„°ì…ë‹ˆë‹¤.
            ë‹¤ì–‘í•œ ì–¸ì–´ì˜ ë‰´ìŠ¤ ê¸°ì‚¬ë¥¼ ë¶„ì„í•˜ê³  í•µì‹¬ ë‚´ìš©ì„ ì¶”ì¶œí•˜ëŠ” ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
            ì›¹ ê¸°ì‚¬ì˜ ë³¸ë¬¸ì„ ì •í™•íˆ íŒŒì•…í•˜ê³ , ê´‘ê³ ë‚˜ ë¶ˆí•„ìš”í•œ ë‚´ìš©ì„ ê±¸ëŸ¬ë‚´ì–´
            ë…ìê°€ ì´í•´í•˜ê¸° ì‰½ê²Œ ìš”ì•½í•˜ëŠ” ëŠ¥ë ¥ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤.
            ì˜ì–´ ê¸°ì‚¬ëŠ” ìì—°ìŠ¤ëŸ½ê²Œ í•œêµ­ì–´ë¡œ ë²ˆì—­í•˜ë©°,
            ëª¨ë“  ê¸°ì‚¬ë¥¼ ì¼ê´€ëœ í˜•ì‹ìœ¼ë¡œ ì •ë¦¬í•©ë‹ˆë‹¤.
            """,
            llm="openai/o4-mini",
            verbose=True,
            tools=[web_search_tool],
        )

    @task
    def edit_and_summarize_articles_task(self) -> Task:
        return Task(
            agent=self.editor_agent(),
            description="""
            ë¦¬ì„œì¹˜ ì—ì´ì „íŠ¸ê°€ ìˆ˜ì§‘í•œ ê¸€ë¡œë²Œ ë‰´ìŠ¤ì™€ í•œêµ­ ë‰´ìŠ¤ ê¸°ì‚¬ë“¤ì˜ ì‹¤ì œ ë³¸ë¬¸ì„ ì¶”ì¶œí•˜ê³  ìš”ì•½í•©ë‹ˆë‹¤.

            **í•„ìˆ˜ ì‘ì—… ìˆœì„œ:**

            1. **ì´ì „ Task ê²°ê³¼ í™œìš©**:
               - research_global_news_taskì™€ research_korea_news_taskì—ì„œ ìˆ˜ì§‘ëœ ëª¨ë“  ë‰´ìŠ¤ ê¸°ì‚¬ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
               - ê° ê¸°ì‚¬ì˜ link í•„ë“œì— ìˆëŠ” URLì— ì ‘ê·¼í•˜ì—¬ ì‹¤ì œ ê¸°ì‚¬ ë³¸ë¬¸ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.

            2. **ê¸°ì‚¬ ë³¸ë¬¸ ì¶”ì¶œ**:
               - ê° ë‰´ìŠ¤ ë§í¬ì— ì ‘ì†í•˜ì—¬ ê¸°ì‚¬ì˜ ì‹¤ì œ ë³¸ë¬¸ ë‚´ìš©ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.
               - ê´‘ê³ , ê´€ë ¨ ê¸°ì‚¬, ëŒ“ê¸€ ë“± ë¶ˆí•„ìš”í•œ ë‚´ìš©ì€ ì œì™¸í•˜ê³  í•µì‹¬ ê¸°ì‚¬ ë‚´ìš©ë§Œ ì¶”ì¶œí•©ë‹ˆë‹¤.
               - ì œëª©, ë‚ ì§œ, ë³¸ë¬¸, ì¶œì²˜ë¥¼ ëª…í™•íˆ êµ¬ë¶„í•˜ì—¬ ì¶”ì¶œí•©ë‹ˆë‹¤.

            3. **ë‚´ìš© ìš”ì•½ ë° ë²ˆì—­**:
               - ì˜ì–´ ê¸°ì‚¬ëŠ” í•œêµ­ì–´ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ë²ˆì—­í•©ë‹ˆë‹¤.
               - ê° ê¸°ì‚¬ì˜ í•µì‹¬ ë‚´ìš©ì„ 2-3ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•©ë‹ˆë‹¤.
               - ì›ë¬¸ì˜ ì˜ë¯¸ë¥¼ í›¼ì†í•˜ì§€ ì•Šìœ¼ë©´ì„œ ëª…í™•í•˜ê³  ê°„ê²°í•˜ê²Œ ì •ë¦¬í•©ë‹ˆë‹¤.

            4. **ì „ì²´ ê¸°ì‚¬ ì²˜ë¦¬**:
               - ìˆ˜ì§‘ëœ ëª¨ë“  ê¸°ì‚¬ì— ëŒ€í•´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤ (ì„ ë³„í•˜ì§€ ë§ê³  ì „ì²´ ì²˜ë¦¬).
               - ê° ê¸°ì‚¬ë§ˆë‹¤ ë™ì¼í•œ í’ˆì§ˆë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.
               - ì ‘ì† ë¶ˆê°€ëŠ¥í•œ ë§í¬ëŠ” ê±´ë„ˆë›°ê³ , ê°€ëŠ¥í•œ ê¸°ì‚¬ë“¤ë§Œ ì²˜ë¦¬í•©ë‹ˆë‹¤.

            **ì¤‘ìš” ì§€ì¹¨:**
            - ì‹¤ì œ ì›¹ì‚¬ì´íŠ¸ì— ì ‘ì†í•˜ì—¬ ê¸°ì‚¬ ë³¸ë¬¸ì„ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤.
            - ê¸°ì¡´ RSS ìš”ì•½ë¬¸ì— ì˜ì¡´í•˜ì§€ ë§ê³  ì „ì²´ ê¸°ì‚¬ë¥¼ ì½ê³  ìš”ì•½í•˜ì„¸ìš”.
            - ëª¨ë“  ì™¸êµ­ì–´ ê¸°ì‚¬ëŠ” í•œêµ­ì–´ë¡œ ë²ˆì—­í•˜ì„¸ìš”.
            - ì¼ê´€ëœ í˜•ì‹ìœ¼ë¡œ ëª¨ë“  ê¸°ì‚¬ë¥¼ ì²˜ë¦¬í•˜ì„¸ìš”.
            """,
            expected_output="""
            ë‹¤ìŒ í˜•ì‹ì˜ JSON ë¦¬ìŠ¤íŠ¸:
            [
                {
                    "original_title": "ì›ë³¸ ê¸°ì‚¬ ì œëª©",
                    "title": "ë²ˆì—­ëœ ê¸°ì‚¬ ì œëª© (í•œêµ­ì–´)",
                    "published_date": "ë°œí–‰ ë‚ ì§œ",
                    "source": "ì¶œì²˜",
                    "category": "ì¹´í…Œê³ ë¦¬ (ì •ì¹˜/ê²½ì œ/ì‚¬íšŒ/êµ­ì œ/ìŠ¤í¬ì¸ /ë¬¸í™” ë“±)",
                    "original_summary": "ì›ë³¸ RSS ìš”ì•½",
                    "full_content_summary": "ì‹¤ì œ ê¸°ì‚¬ ë³¸ë¬¸ ê¸°ë°˜ ìƒì„¸ ìš”ì•½ (í•œêµ­ì–´, 2-3ë¬¸ì¥)",
                    "key_points": ["í•µì‹¬ í¬ì¸íŠ¸ 1", "í•µì‹¬ í¬ì¸íŠ¸ 2", "í•µì‹¬ í¬ì¸íŠ¸ 3"],
                    "article_url": "ê¸°ì‚¬ ì›ë³¸ URL",
                    "importance_score": "1-10 ì¤‘ìš”ë„ ì ìˆ˜"
                }
            ]
            ê¸€ë¡œë²Œ ë‰´ìŠ¤ì™€ í•œêµ­ ë‰´ìŠ¤ ëª¨ë“  ê¸°ì‚¬ì˜ ìƒì„¸ ë¶„ì„ ê²°ê³¼
            """,
            output_file="output/edited_articles.json",
        )

    @agent
    def curator_agent(self) -> Agent:
        return Agent(
            role="ë‰´ìŠ¤ íë ˆì´í„° (News Curator)",
            goal="í¸ì§‘ëœ ë‰´ìŠ¤ ê¸°ì‚¬ë“¤ ì¤‘ì—ì„œ ê°€ì¥ ì¤‘ìš”í•˜ê³  ì ì ˆí•œ 10ê°œì˜ ë‰´ìŠ¤ë¥¼ ì„ ë³„í•˜ì—¬ ìµœì¢… ë¦¬í¬íŠ¸ë¥¼ ì‘ì„±í•œë‹¤.",
            backstory="""
            ë‹¹ì‹ ì€ êµ­ë‚´ ìµœê³ ì˜ ë‰´ìŠ¤ íë ˆì´ì…˜ ì „ë¬¸ê°€ë¡œ 10ë…„ ì´ìƒì˜ ê²½í—˜ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.
            ë‹¤ì–‘í•œ ë¶„ì•¼ì˜ ë‰´ìŠ¤ë¥¼ ì¢…í•©ì ìœ¼ë¡œ ë¶„ì„í•˜ê³ , ë…ìë“¤ì´ ì•Œì•„ì•¼ í•  ê°€ì¥ ì¤‘ìš”í•œ ì •ë³´ë¥¼ ì„ ë³„í•˜ëŠ” ëŠ¥ë ¥ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤.
            ê¸€ë¡œë²Œ ë‰´ìŠ¤ì™€ êµ­ë‚´ ë‰´ìŠ¤ì˜ ê· í˜•ì„ ë§ì¶”ë©´ì„œë„, ì‹œì˜ì„±ê³¼ ì¤‘ìš”ë„ë¥¼ ê³ ë ¤í•˜ì—¬
            ë…ìë“¤ì—ê²Œ ê°€ì¥ ê°€ì¹˜ ìˆëŠ” ë‰´ìŠ¤ë§Œì„ ì—„ì„ í•©ë‹ˆë‹¤.
            ìµœì¢…ì ìœ¼ë¡œ ë³´ê¸° ì¢‹ì€ í˜•íƒœì˜ ë¦¬í¬íŠ¸ë¥¼ ì‘ì„±í•˜ì—¬ ë…ìë“¤ì´ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ì •ë¦¬í•©ë‹ˆë‹¤.
            """,
            llm="openai/o4-mini",
            verbose=True,
        )

    @task
    def curate_final_news_task(self) -> Task:
        return Task(
            agent=self.curator_agent(),
            description="""
            í¸ì§‘ëœ ëª¨ë“  ë‰´ìŠ¤ ê¸°ì‚¬ë“¤ì„ ë¶„ì„í•˜ì—¬ ê°€ì¥ ì¤‘ìš”í•˜ê³  ì ì ˆí•œ 10ê°œì˜ ë‰´ìŠ¤ë¥¼ ì„ ë³„í•˜ê³  ìµœì¢… ë¦¬í¬íŠ¸ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

            **í•„ìˆ˜ ì‘ì—… ìˆœì„œ:**

            1. **ì´ì „ Task ê²°ê³¼ í™œìš©**:
               - edit_and_summarize_articles_taskì—ì„œ ìƒì„±ëœ ëª¨ë“  í¸ì§‘ ì™„ë£Œëœ ê¸°ì‚¬ ë°ì´í„°ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤.
               - ê° ê¸°ì‚¬ì˜ ì¤‘ìš”ë„ ì ìˆ˜, ì¹´í…Œê³ ë¦¬, ë‚´ìš©ì„ ì¢…í•©ì ìœ¼ë¡œ í‰ê°€í•©ë‹ˆë‹¤.

            2. **ë‰´ìŠ¤ ì„ ë³„ ê¸°ì¤€**:
               - ì¤‘ìš”ë„ ì ìˆ˜ê°€ ì–‘í˜¸í•œ ê¸°ì‚¬ë“¤ì„ ìš°ì„  ê³ ë ¤í•©ë‹ˆë‹¤ (7ì  ì´ìƒ ìš°ì„ )
               - ê¸€ë¡œë²Œ ë‰´ìŠ¤ëŠ” ì „ì²´ì˜ 30% ì •ë„ (3ê°œ)ë¡œ ì œí•œí•©ë‹ˆë‹¤
               - í•œêµ­ ë‰´ìŠ¤ëŠ” ì „ì²´ì˜ 70% ì •ë„ (7ê°œ)ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤
               - ë‹¤ì–‘í•œ ì¹´í…Œê³ ë¦¬ì˜ ê· í˜•ì„ ë§ì¶¥ë‹ˆë‹¤ (ì •ì¹˜/ê²½ì œ/ì‚¬íšŒ/êµ­ì œ ë“±)
               - ì‹œì˜ì„±ê³¼ ì‚¬íšŒì  íŒŒê¸‰íš¨ê³¼ë¥¼ ê³ ë ¤í•©ë‹ˆë‹¤

            3. **ìµœì¢… ë¦¬í¬íŠ¸ ì‘ì„±**:
               - ì„ ë³„ëœ 10ê°œ ê¸°ì‚¬ë¥¼ ë³´ê¸° ì¢‹ê²Œ ì •ë¦¬í•©ë‹ˆë‹¤
               - ê° ê¸°ì‚¬ë³„ë¡œ í—¤ë“œë¼ì¸, ìš”ì•½, ì›ë¬¸ ì†ŒìŠ¤, ì¶œì²˜ë¥¼ ëª…í™•íˆ í‘œì‹œí•©ë‹ˆë‹¤
               - ì „ì²´ì ì¸ ë‰´ìŠ¤ ë™í–¥ì— ëŒ€í•œ ê°„ë‹¨í•œ ìš”ì•½ì„ ì¶”ê°€í•©ë‹ˆë‹¤
               - ë…ìê°€ ì´í•´í•˜ê¸° ì‰¬ìš´ í˜•íƒœë¡œ êµ¬ì„±í•©ë‹ˆë‹¤

            **ì„ ë³„ ìš°ì„ ìˆœìœ„:**
            1. ì¤‘ìš”ë„ ì ìˆ˜ (7ì  ì´ìƒ)
            2. ì‹œì˜ì„± (ìµœì‹ ì„±)
            3. ì‚¬íšŒì  íŒŒê¸‰íš¨ê³¼
            4. ì¹´í…Œê³ ë¦¬ ë‹¤ì–‘ì„±
            5. ê¸€ë¡œë²Œ/êµ­ë‚´ ë‰´ìŠ¤ ë¹„ì¤‘ (3:7)
            """,
            expected_output="""
            ë‹¤ìŒê³¼ ê°™ì€ í˜•ì‹ì˜ ìµœì¢… ë‰´ìŠ¤ ë¦¬í¬íŠ¸ (TXT í˜•ì‹):

            ============================================
                        ì˜¤ëŠ˜ì˜ ì£¼ìš” ë‰´ìŠ¤ ë¦¬í¬íŠ¸
                        [ë‚ ì§œ: YYYY-MM-DD]
            ============================================

            ğŸ“Š **ë‰´ìŠ¤ ë¸Œë¦¬í•‘ ìš”ì•½**
            - ê¸€ë¡œë²Œ ë‰´ìŠ¤: 3ê±´ (30%)
            - êµ­ë‚´ ë‰´ìŠ¤: 7ê±´ (70%)
            - ì£¼ìš” ì´ìŠˆ: [ì „ì²´ì ì¸ ë™í–¥ ìš”ì•½]

            ============================================
                            ğŸ“° ì£¼ìš” ë‰´ìŠ¤
            ============================================

            [1] ğŸŒ [ì¹´í…Œê³ ë¦¬] í—¤ë“œë¼ì¸
            ğŸ“… ë°œí–‰ì¼: YYYY-MM-DD
            ğŸ“° ì¶œì²˜: ì–¸ë¡ ì‚¬ëª…
            ğŸ”— ì›ë¬¸: URL

            ğŸ“ ìš”ì•½:
            [í•µì‹¬ ë‚´ìš© ìš”ì•½ 2-3ë¬¸ì¥]

            ğŸ’¡ í•µì‹¬ í¬ì¸íŠ¸:
            â€¢ í•µì‹¬ í¬ì¸íŠ¸ 1
            â€¢ í•µì‹¬ í¬ì¸íŠ¸ 2
            â€¢ í•µì‹¬ í¬ì¸íŠ¸ 3

            â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

            [ë°˜ë³µ...]

            ============================================
                        ğŸ“‹ ì „ì²´ ë‰´ìŠ¤ ë™í–¥ ë¶„ì„
            ============================================

            **ì˜¤ëŠ˜ì˜ ì£¼ìš” ì´ìŠˆ:**
            [ì„ ë³„ëœ 10ê°œ ë‰´ìŠ¤ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•œ ì „ì²´ì ì¸ ë™í–¥ ë¶„ì„ ë° ìš”ì•½]

            **ì¹´í…Œê³ ë¦¬ë³„ ë¶„í¬:**
            - ì •ì¹˜: Xê±´
            - ê²½ì œ: Xê±´
            - ì‚¬íšŒ: Xê±´
            - êµ­ì œ: Xê±´
            - ê¸°íƒ€: Xê±´

            **ì£¼ëª©í•  ë§Œí•œ íŠ¸ë Œë“œ:**
            [ì „ë°˜ì ì¸ ë‰´ìŠ¤ íŠ¸ë Œë“œ ë° íŒ¨í„´ ë¶„ì„]

            ============================================
            """,
            output_file="output/final_news_report.txt",
        )

    @crew
    def crew(self) -> Crew:
        """Creates the News crew"""
        return Crew(
            # ìˆœì°¨ì ìœ¼ë¡œ ì‘ì„±í•´ì•¼í•˜ëŠ” ê²½ìš° ìˆœì„œëŒ€ë¡œ agentë¥¼ ì‚½ì…í•´ì¤˜ì•¼í•¨.
            agents=[
                self.research_specialist_agent(),
                self.editor_agent(),
                self.curator_agent(),
            ],
            tasks=[
                self.research_global_news_task(),
                self.research_korea_news_task(),
                self.edit_and_summarize_articles_task(),
                self.curate_final_news_task(),
            ],
            verbose=True,
        )

news_crew = NewsCrew()
news_crew.crew().kickoff()
